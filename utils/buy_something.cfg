[event]
  name = prestart
  [set_menu_item]
    id = a_buysoldier
    description = "Buy soldier (-3 gold)"
    image = "units/human-loyalists/spearman.png~SCALE(36,36)"
    [show_if]
      {OWNED_LOCATION}
      [not]
	[have_unit]
	  x,y = $x1, $y1
	[/have_unit]
      [/not]
    [/show_if]
    [command]
      [store_gold]
	side = $side_number
	variable = side_stats[$side_number].gold
      [/store_gold]
      [if]
	{VARCH side_stats[$side_number].gold greater_than_equal_to 3}
	[then]
	  {SOLDIER $side_number $x1 $y1}
	  [gold]
	    side = $side_number
	    amount = -3
	  [/gold]
	  [modify_unit]
	    [filter]
	      x,y = $x1, $y1
	    [/filter]
	    moves = 0
	    attacks_left = 0
	  [/modify_unit]
	[/then]
	[else]
	  {ERROR_SOUND}
	[/else]
      [/if]
    [/command]
  [/set_menu_item]
[/event]

[event]
  name = prestart
  [set_menu_item]
    id = b_buyharvester
    description = "Buy harvester (-5 gold)"
    image = "units/human-peasants/peasant.png~SCALE(36,36)"
    [show_if]
      {OWNED_LOCATION}
      [not]
	[have_unit]
	  x,y = $x1, $y1
	[/have_unit]
      [/not]
    [/show_if]
    [command]
      [store_gold]
	side = $side_number
	variable = side_stats[$side_number].gold
      [/store_gold]
      [if]
	{VARCH side_stats[$side_number].gold greater_than_equal_to 5}
	[then]
	  {HARVESTER $side_number $x1 $y1}
	  [gold]
	    side = $side_number
	    amount = -5
	  [/gold]
	  [modify_unit]
	    [filter]
	      x,y = $x1, $y1
	    [/filter]
	    moves = 0
	    attacks_left = 0
	  [/modify_unit]
	[/then]
	[else]
	  {ERROR_SOUND}
	[/else]
      [/if]
    [/command]
  [/set_menu_item]
[/event]

[event]
  name = prestart
  [set_menu_item]
    id = c_buyarcher
    description = "Buy archer (-20 gold)"
    image = "units/human-loyalists/bowman.png~SCALE(36,36)"
    [show_if]
      {OWNED_LOCATION}
      [not]
	[have_unit]
	  x,y = $x1, $y1
	[/have_unit]
      [/not]
    [/show_if]
    [command]
      [store_gold]
	side = $side_number
	variable = side_stats[$side_number].gold
      [/store_gold]
      [if]
	{VARCH side_stats[$side_number].gold greater_than_equal_to 20}
	[then]
	  {ARCHER $side_number $x1 $y1}
	  [gold]
	    side = $side_number
	    amount = -20
	  [/gold]
	  [modify_unit]
	    [filter]
	      x,y = $x1, $y1
	    [/filter]
	    moves = 0
	    attacks_left = 0
	  [/modify_unit]
	[/then]
	[else]
	  {ERROR_SOUND}
	[/else]
      [/if]
    [/command]
  [/set_menu_item]
[/event]